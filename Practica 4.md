1) Se utiliza SMTP para el envio de mails entre cliente y servidor. Entre servidores de correo se utiliza el mismo protocolo
2) Para la recepicion, existen dos protocolos principaleS: POP3 (Post Office Protocol Version 3) e IMAP (Internet Message Access Protocol).
	- POP3: es un protocolo de acceso extremadamente simple, su simplicidad lo hace facil de implementar y utilizar. Este protocolo generalmente se configura para descargar los correos desde el servidor a la maquina local. En este modo, los correos se eliminan del correo despues de la descarga (aunque se pueden confiurar para mantener una copia en el servidor). Por otro lado no mantiene información de estado entre sesiones: esto significa que no guarda informacion sobre carpetas, mensajes marcados o cualquier otra informacion relacionadad con el estado de la cuenta del usuario o servidor. Por ultimo para los usuarios que desean acceder a sus coreos desde multiples dispositivos, POP3 puede ser limitante ya que no ofrece una forma sencilla de sincronizar carpetas y correos entre dispositivos.
	- IMAP: este protocolo es mas avanzado que el anterior, ofreciendo una amplia gama de funcionalidades. Permite a los usuarios organizar correos en carpetas remotas, buscar mensajes, mover mensajes entre carpteas y realizar otras acciones avanzadas. IMAP mantiene informacion de estado en el servidor: esto significa que las carpetas, los mensajes marcados como leidos/no leidos, y otras acciones realizadas en un dispositivo se reflejan en todos los dispositivos conectados. También permite a los usuarios acceder a partes especificas de los mensajes, como la cabecera o partes de un mensaje MIME. Debido a su mayor complejidad, IMAP puede ser más complejo de implementar tanto en el lado del cliente como del lado del servidor en comparecion a POP3.
3) .
	1)  ![[Pasted image 20251022181725.png]]
	2) ![[Pasted image 20251022182732.png]]![[Pasted image 20251022182813.png]]
	3) ![[Pasted image 20251022183400.png]] Las notas MIME (Multipurpose Internet Mail Extensions) permiten mails con contenido diverso como texto, imágenes y archivos adjuntos. Cuanto un mail tiene el encabezado "Content-Type: multiparted/mixed", significa que el mensaje consta de múltiples partes, algunas de la cuales pueden ser archivos. Para separar y marcar cada parte dentro del mensaje MIME, se utiliza un identificador de límite denominado "boundary", que se establece en el encabezado "Content-Type". Cada parte del mensaje de delimita con "--boundary" y el "boundary" actúa como un marcador para indicar dónde comienza y termina cada parte. Debajo de cada divisor se encuentra de nuevo el header Content-Type y otro llamado "Content-Transfer-Encoding". Estos indican el tipo del contenido y el algoritmo usado para codificarlo y decodificarlo. ![[Pasted image 20251022184657.png]]
4) -
	1) Envio: ![[Pasted image 20251022185108.png]] Recepción: ![[Pasted image 20251022185511.png]] 
	2) ![[Pasted image 20251022185752.png]] ![[Pasted image 20251022185825.png]] 
	CAPA: El comando **CAPA** (CAPAbility) se utiliza para consultar al servidor POP3 qué extensiones o capacidades opcionales soporta. El servidor responde con una lista de las capacidades, que pueden incluir muchos de los comandos de tu lista (como `TOP`, `UIDL`, `PIPELINING`, `STLS`, etc.). Está disponible tanto antes como después de la autenticación. 
	TOP: Permite al cliente recuperar las **cabeceras** de un mensaje específico y un número determinado de **líneas del cuerpo** del mensaje, sin tener que descargar el mensaje completo. Es útil para previsualizar mensajes grandes.
	UIDL: (Unique IDentification List) pide al servidor que envíe una lista de identificadores únicos para cada mensaje en el buzón. Estos identificadores son permanentes y permiten al cliente de correo rastrear qué mensajes ya ha descargado, incluso si el orden de los mensajes en el servidor cambia.
	RESP-CODES: La extensión **RESP-CODES** (Response Codes) permite al servidor incluir un **código de respuesta extendido** dentro del mensaje de respuesta del servidor (generalmente como `[Código]` después de `+OK` o `-ERR`). Esto proporciona a los clientes información más detallada sobre por qué falló un comando (por ejemplo, `[AUTH]` para errores de autenticación).
	PIPELINING: La extensión **PIPELINING** permite al cliente enviar múltiples comandos POP3 al servidor sin esperar la respuesta de cada uno. El servidor procesa los comandos en el orden en que los recibe y luego envía las respuestas en orden. Esto **mejora el rendimiento** al reducir el tiempo de espera por la latencia de la red.
	AUTH-RESP-CODE: Esta extensión, definida en un RFC diferente a `RESP-CODES`, se relaciona específicamente con el uso de códigos de respuesta extendidos para proporcionar información más detallada sobre fallas durante la fase de **autenticación** (por ejemplo, durante comandos como `USER`, `PASS` o `APOP`).
	STSL: **STLS** (Start TLS) es un comando que permite al cliente solicitar una **conexión cifrada** (utilizando **TLS/SSL**) después de que se ha establecido una conexión inicial sin cifrar en el puerto estándar (típicamente 110). Si el servidor acepta, la comunicación restante se cifra, mejorando la seguridad.
	USER: Es el primer comando de la secuencia tradicional de autenticación. El cliente envía el nombre de **usuario** para la cuenta de correo. Este comando debe ir seguido del comando `PASS` (contraseña).
	SASL PLAIN: **SASL** (Simple Authentication and Security Layer) es un framework para añadir soporte de autenticación. **PLAIN** es uno de los mecanismos SASL más simples y comunes; implica que el cliente envíe el nombre de usuario y la contraseña al servidor, codificados en Base64 pero **sin cifrar** (a menos que se use una capa como TLS/SSL). Si el servidor soporta `AUTH` (el comando SASL) y la extensión `SASL`, el cliente puede usar `AUTH PLAIN` para autenticarse.
5) p
	1) Envio: ![[Pasted image 20251022190619.png]] Recepción: ![[Pasted image 20251022190701.png]] 
	2) ![[Pasted image 20251022191238.png]] ![[Pasted image 20251022191303.png]] 
	IDLE: Es una extensión de IMAP que permite al cliente notificar al servidor que está **inactivo** y esperando nuevas notificaciones (como un correo nuevo o un cambio de bandera) sin necesidad de enviar comandos repetidamente (`NOOP`). Esto hace que el cliente pueda recibir actualizaciones en tiempo real.
	DONE: Es el comando que el cliente envía al servidor para **salir del estado de IDLE** y volver al modo de comandos normal.
	OK Still here: Es una respuesta no solicitada del servidor (untagged response, marcada con `*`) que se envía periódicamente para mantener la conexión viva o, en el contexto de **IDLE**, para confirmar que el servidor está atento.
	idling: Indica que el servidor está listo para recibir el comando **IDLE** del cliente, o que el cliente ya lo envió y la sesión ha entrado en el estado de "inactividad".
	UID FETCH: es un comando que solicita al servidor información específica sobre uno o más mensajes. En este caso:- **UID** (Unique Identifier): Indica que el número de mensaje se basará en el identificador único.- 4 Significa que se aplique la operación a los mensajes desde el número **4 hasta el último mensaje** del buzón actual.- **(FLAGS)**: Especifica que la información solicitada es el **estado de las banderas** del mensaje (por ejemplo, si está leído, respondido, borrado, o es `\Recent`). 
	CHECK: Se utiliza para verificar la integridad de una carpeta IMAP y asegurarse de que todos los cambios pendientes se han aplicado correctamente. Es útil para garantizar la coherencia de la información en el server IMAP.
	UID CHECK: Similar al anterior pero se aplica a mensajes específicos identificados por sus identificadores únicos (UID). Permite verificar y sincronizar mensajes especificas en lugar de toda la carpeta.
	NOOP: (No Operation) es un comando simple que el cliente envía para **mantener la conexión viva** y solicitar al servidor que envíe cualquier actualización pendiente (como el estado de nuevos mensajes o banderas). Se utiliza a menudo cuando el servidor no soporta la extensión `IDLE` o como un _keep-alive_ periódico.
6) -
	1) ![[Pasted image 20251022193242.png]] ![[Pasted image 20251022193258.png]] 
	2) **¿Qué correos ve en el buzón de entrada de ambas cuentas? ¿Están marcados como leídos o como no leídos? ¿Por qué?**: En la cuenta POP veo los recibidos y están marcados como no leídos. Por otro lado en IMAP veo los recibidos y los enviados, están marcados como leídos. Esto es así porque en POP los emails se descargan del server al cliente y se marcan como no leídos en el cliente, mientras que en IMAP los emails se almacenan en el server y se reflejan en el cliente. Los mails enviados se consideran leídos porque ya se enviaron desde el cliente. IMAP sincroniza el estado de los mails entre el cliente y servidos. **¿Qué pasó con las carpetas POP e IMAP que creó en el paso anterior?**: La de POP no esta pero la de IMAP si. Esto es así porque POP3 no admite la sincronización de carpetas en el servidor (están localmente), mientras que en IMAP permite acceder y sincronizar todas las carpetas en el servidor.
	3) Depende para que, en términos generales IMAP suele ser mejor si no quieres estar pendiente de sincronizar y tener guardados los correos en un lugar seguro. En el caso de POP3 podría servir si quieres tener una copia de seguridad local en una computadora, disco duro o servidor local de confianza, pero si no te interesa esto, lo mejor es IMAP.
7) En ambos casos, entre MUA-MSA si es posible enviar mas de un correo durante una misma conexión TCP. Entre MTA-MTA si se trata de destinatarios del mismo dominio se puede enviar en una misma conexión (aunque también podría haber conexiones distintas, verdaderamente depende si el MTA lo permite o como esta configurado). Si se trata de destinatarios de distintos dominios, siempre va haber distintas conexiones, porque son dominios separados y responden a distintos servidores. 
8) Si, un MSA puede escuchar en un puerto TCP diferente a los convencionales. Hay que tener en cuenta que si se cambia el MSA hay que informar a todos los MUA del dominio que se cambio en el puerto del MSA y estos tendrían que configurar el puerto
9) Es posible configurar un MTA para que escuche en un puerto TCP diferente al convencional. Pero hay que tener en cuenta que si se cambia el MTA se tendría que informar a todos los MTA de los otros dominios de dicho cambio, que a diferencia del cambio de puerto del MSA, es algo prácticamente imposible.
10) 